---
title: 'Watchlists'
api: 'GET /kyc/watchlists'
---

Manage watchlists for ongoing monitoring of entities against KYC watchlists. Watchlists automatically check subjects at configured intervals and alert on matches or status changes.

## Overview

Watchlists allow you to:
- Monitor multiple entities continuously
- Receive alerts when matches are found
- Track changes in entity status over time
- Schedule automatic checks (daily, weekly, or on update)

## Endpoints

| Method | Endpoint | Permission Required |
|-------|----------|---------------------|
| `POST` | `/kyc/watchlists` | `watchlist:create` |
| `GET` | `/kyc/watchlists` | `watchlist:list` |
| `GET` | `/kyc/watchlists/{watchlist_id}` | `watchlist:read` |
| `PATCH` | `/kyc/watchlists/{watchlist_id}` | `watchlist:update` |
| `DELETE` | `/kyc/watchlists/{watchlist_id}` | `watchlist:delete` |
| `POST` | `/kyc/watchlists/{watchlist_id}/subjects` | `watchlist:update` |
| `POST` | `/kyc/watchlists/{watchlist_id}/subjects/batch` | `watchlist:update` |
| `DELETE` | `/kyc/watchlists/{watchlist_id}/subjects/{subject_id}` | `watchlist:update` |

## Create Watchlist

Create a new watchlist with subjects to monitor.

### Request

<RequestExample>
```bash
curl -X POST https://dev.kyc.legaltalent.ai/kyc/watchlists \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "High Risk Customers",
    "subjects": [
      {
        "full_name": "John Doe",
        "identifier": "12345678",
        "identifier_type": "document"
      },
      {
        "full_name": "Jane Smith",
        "identifier": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
        "identifier_type": "wallet"
      }
    ],
    "lists_to_monitor": ["ofac", "un"],
    "check_frequency": "daily",
    "alert_config": {
      "on_new_match": true,
      "on_status_change": true,
      "webhook_url": "https://your-server.com/webhooks/kyc",
      "notification_email": "alerts@example.com"
    },
    "status": "active"
  }'
```
</RequestExample>

### Request Parameters

<ParamFields>
  <ParamField name="name" type="string" required description="Watchlist name" />
  <ParamField name="subjects" type="array" description="Initial subjects to monitor (optional, can add later)" />
  <ParamField name="lists_to_monitor" type="array" description="Lists to check against (default: all available lists)" />
  <ParamField name="check_frequency" type="string" description="Check frequency: 'daily', 'weekly', or 'on_update' (default: 'daily')" />
  <ParamField name="alert_config" type="object" description="Alert configuration (optional)" />
  <ParamField name="status" type="string" description="Initial status: 'active' or 'paused' (default: 'active')" />
</ParamFields>

### Response

<ResponseExample>
```json
{
  "status": "success",
  "data": {
    "watchlist_id": "550e8400-e29b-41d4-a716-446655440000",
    "tenant_id": "tenant123",
    "name": "High Risk Customers",
    "subjects": [
      {
        "subject_id": "660e8400-e29b-41d4-a716-446655440001",
        "full_name": "John Doe",
        "identifier": "12345678",
        "identifier_type": "document",
        "added_at": "2024-11-22T10:30:00Z"
      }
    ],
    "lists_to_monitor": ["ofac", "un"],
    "check_frequency": "daily",
    "last_checked_at": null,
    "next_check_due": 1732278600000,
    "last_results": null,
    "alert_config": {
      "on_new_match": true,
      "on_status_change": true,
      "webhook_url": "https://your-server.com/webhooks/kyc",
      "notification_email": "alerts@example.com"
    },
    "status": "active",
    "created_at": "2024-11-22T10:30:00Z",
    "updated_at": "2024-11-22T10:30:00Z"
  }
}
```
</ResponseExample>

## List Watchlists

Retrieve all watchlists for your tenant.

### Request

<RequestExample>
```bash
curl -X GET https://dev.kyc.legaltalent.ai/kyc/watchlists \
  -H "Authorization: Bearer YOUR_TOKEN"
```
</RequestExample>

### Response

<ResponseExample>
```json
{
  "status": "success",
  "data": [
    {
      "watchlist_id": "550e8400-e29b-41d4-a716-446655440000",
      "name": "High Risk Customers",
      "status": "active",
      "subjects_count": 5,
      "last_checked_at": "2024-11-22T09:00:00Z",
      "next_check_due": 1732278600000,
      "check_frequency": "daily"
    },
    {
      "watchlist_id": "660e8400-e29b-41d4-a716-446655440002",
      "name": "Vendor Watchlist",
      "status": "paused",
      "subjects_count": 12,
      "last_checked_at": null,
      "next_check_due": null,
      "check_frequency": "weekly"
    }
  ]
}
```
</ResponseExample>

## Get Watchlist Details

Retrieve detailed information about a specific watchlist.

### Request

<RequestExample>
```bash
curl -X GET https://dev.kyc.legaltalent.ai/kyc/watchlists/550e8400-e29b-41d4-a716-446655440000 \
  -H "Authorization: Bearer YOUR_TOKEN"
```
</RequestExample>

### Response

<ResponseExample>
```json
{
  "status": "success",
  "data": {
    "watchlist_id": "550e8400-e29b-41d4-a716-446655440000",
    "tenant_id": "tenant123",
    "name": "High Risk Customers",
    "subjects": [
      {
        "subject_id": "660e8400-e29b-41d4-a716-446655440001",
        "full_name": "John Doe",
        "identifier": "12345678",
        "identifier_type": "document",
        "added_at": "2024-11-22T10:30:00Z"
      }
    ],
    "lists_to_monitor": ["ofac", "un"],
    "check_frequency": "daily",
    "last_checked_at": "2024-11-22T09:00:00Z",
    "next_check_due": 1732278600000,
    "last_results": {
      "checked_at": "2024-11-22T09:00:00Z",
      "subjects_checked": 5,
      "matches_found": 0,
      "new_matches": 0,
      "s3_snapshot_key": "snapshots/tenant123/550e8400/2024-11-22T09:00:00Z.json"
    },
    "alert_config": {
      "on_new_match": true,
      "on_status_change": true,
      "webhook_url": "https://your-server.com/webhooks/kyc",
      "notification_email": "alerts@example.com"
    },
    "status": "active",
    "created_at": "2024-11-22T10:30:00Z",
    "updated_at": "2024-11-22T10:30:00Z"
  }
}
```
</ResponseExample>

## Update Watchlist

Update watchlist configuration.

### Request

<RequestExample>
```bash
curl -X PATCH https://dev.kyc.legaltalent.ai/kyc/watchlists/550e8400-e29b-41d4-a716-446655440000 \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Updated Watchlist Name",
    "check_frequency": "weekly",
    "status": "active",
    "lists_to_monitor": ["ofac", "un", "eu"]
  }'
```
</RequestExample>

### Request Parameters

All parameters are optional - only include fields you want to update:

<ParamFields>
  <ParamField name="name" type="string" description="New watchlist name" />
  <ParamField name="lists_to_monitor" type="array" description="Lists to check against" />
  <ParamField name="check_frequency" type="string" description="Check frequency: 'daily', 'weekly', or 'on_update'" />
  <ParamField name="alert_config" type="object" description="Alert configuration" />
  <ParamField name="status" type="string" description="Status: 'active' or 'paused'" />
</ParamFields>

## Delete Watchlist

Remove a watchlist and all associated data.

### Request

<RequestExample>
```bash
curl -X DELETE https://dev.kyc.legaltalent.ai/kyc/watchlists/550e8400-e29b-41d4-a716-446655440000 \
  -H "Authorization: Bearer YOUR_TOKEN"
```
</RequestExample>

### Response

<ResponseExample>
```json
{
  "status": "success",
  "message": "Watchlist deleted successfully"
}
```
</ResponseExample>

## Add Subject to Watchlist

Add a single subject to an existing watchlist.

### Request

<RequestExample>
```bash
curl -X POST https://dev.kyc.legaltalent.ai/kyc/watchlists/550e8400-e29b-41d4-a716-446655440000/subjects \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "full_name": "New Subject",
    "identifier": "98765432",
    "identifier_type": "document"
  }'
```
</RequestExample>

## Batch Add Subjects

Add multiple subjects to a watchlist in a single request.

### Request

<RequestExample>
```bash
curl -X POST https://dev.kyc.legaltalent.ai/kyc/watchlists/550e8400-e29b-41d4-a716-446655440000/subjects/batch \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "subjects": [
      {
        "full_name": "Subject 1",
        "identifier": "ID1",
        "identifier_type": "document"
      },
      {
        "full_name": "Subject 2",
        "identifier": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
        "identifier_type": "wallet"
      }
    ]
  }'
```
</RequestExample>

## Remove Subject from Watchlist

Remove a subject from a watchlist.

### Request

<RequestExample>
```bash
curl -X DELETE https://dev.kyc.legaltalent.ai/kyc/watchlists/550e8400-e29b-41d4-a716-446655440000/subjects/660e8400-e29b-41d4-a716-446655440001 \
  -H "Authorization: Bearer YOUR_TOKEN"
```
</RequestExample>

## Subject Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `full_name` | string | Yes* | Full name of the subject |
| `identifier` | string | No | Document ID, wallet address, email, etc. |
| `identifier_type` | string | No | Type: "document", "wallet", "email", etc. |

*Required if no identifier is provided

## Check Frequency Options

| Value | Description |
|-------|-------------|
| `daily` | Check all subjects once per day |
| `weekly` | Check all subjects once per week |
| `on_update` | Only check when subjects are added/updated |

## Status Codes

| Code | Description |
|------|-------------|
| 200 | Success |
| 400 | Bad Request - Invalid parameters |
| 401 | Unauthorized - Missing or invalid token |
| 403 | Forbidden - Insufficient permissions |
| 404 | Not Found - Watchlist or subject not found |
| 500 | Internal Server Error |

## Alert Configuration

Configure alerts for watchlist events:

```json
{
  "on_new_match": true,           // Alert when new matches are found
  "on_status_change": true,       // Alert when subject status changes
  "webhook_url": "https://...",   // Optional webhook URL
  "notification_email": "..."     // Optional email address
}
```

When alerts are triggered, webhooks receive POST requests with match details in JSON format.

